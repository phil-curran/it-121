<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HW 4 - Pass / Fail | Phil Curran</title>
    <link rel="stylesheet" href="./normalize.css" />
    <link rel="stylesheet" href="./skeleton.css" />
    <link rel="stylesheet" href="./main.css" />
  </head>
  <body>
    <div class="container">
      <h1 class="text-center">Password Checker</h1>

      <form id="form">
        <div class="row">
          <div class="three columns">
            <label for="firstNameInput">First Name</label>
            <input
              class="u-full-width"
              type="text"
              placeholder="First name"
              id="firstNameInput"
            />
          </div>
          <div class="three columns">
            <label for="lastNameInput">Last Name</label>
            <input
              class="u-full-width"
              type="text"
              placeholder="Last name"
              id="lastNameInput"
            />
          </div>
          <div class="four columns">
            <label for="passwordInput">Password</label>
            <input
              class="u-full-width"
              type="password"
              id="passwordInput"
              placeholder="Password"
            />
          </div>
          <div class="two columns">
            <label class="invisible" for="submitBtn">.</label>
            <input
              class="u-full-width button-primary"
              type="submit"
              id="submitBtn"
            />
          </div>
        </div>
      </form>

      <div class="row">
        <div class="twelve columns">
          <h3>Password Requirements</h3>
          <ul>
            <li id="fName">First Name</li>
            <li id="lName">Last Name</li>
            <li id="pwLength">Password Length >= 8</li>
            <li id="pwUpper">Includes Uppercase</li>
            <li id="pwLower">Includes Lowercase</li>
            <li id="pwNumber">Includes Number</li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      const showCorrect = (text) => {
        return `<span class='correct'> <img class='img' src='https://upload.wikimedia.org/wikipedia/commons/3/3b/Eo_circle_green_checkmark.svg' alt='correct check' /> ${text}</span>`;
      };

      const showIncorrect = (text) => {
        return `<span class='incorrect'><img class='img' src='https://upload.wikimedia.org/wikipedia/commons/d/dd/Eo_circle_red_not-allowed.svg' alt='incorrect x' /> ${text}</span>`;
      };

      // inputs
      let firstNameInput = document.getElementById("firstNameInput");
      let lastNameInput = document.getElementById("lastNameInput");
      let passwordInput = document.getElementById("passwordInput");

      // variable declarations
      let firstName = "";
      let lastName = "";
      let password = "";

      // feedback elements
      let fNameEval = document.getElementById("fName");
      let lNameEval = document.getElementById("lName");
      let pwLength = document.getElementById("pwLength");
      let pwUpper = document.getElementById("pwUpper");
      let pwLower = document.getElementById("pwLower");
      let pwNumber = document.getElementById("pwNumber");

      // event listeners
      // first name
      firstNameInput.addEventListener("change", (e) => {
        firstName = firstNameInput.value;
        firstName.length > 0
          ? (fNameEval.innerHTML = showCorrect(" First Name OK!"))
          : (fNameEval.innerHTML = showIncorrect(" Need First Name"));
      });

      // last name
      lastNameInput.addEventListener("change", (e) => {
        lastName = lastNameInput.value;
        lastName.length > 0
          ? (lNameEval.innerHTML = showCorrect(" Last Name OK!"))
          : (lNameEval.innerHTML = showIncorrect(" Need Last Name"));
      });

      // password
      passwordInput.addEventListener("change", (e) => {
        password = passwordInput.value;
        password.length >= 8 !== null
          ? (pwLength.innerHTML = showCorrect(" Password Length OK!"))
          : (pwLength.innerHTML = showIncorrect(
              " Password should be 8+ characters"
            ));
        password.match(/[A-Z]/) !== null
          ? (pwUpper.innerHTML = showCorrect(" Uppercase OK!"))
          : (pwUpper.innerHTML = showIncorrect(" Need Uppercase"));
        password.match(/[a-z]/) !== null
          ? (pwLower.innerHTML = showCorrect(" Lowercase OK!"))
          : (pwLower.innerHTML = showIncorrect(" Need Lowercase"));
        password.match(/[0-9]/) !== null
          ? (pwNumber.innerHTML = showCorrect(" Number OK!"))
          : (pwNumber.innerHTML = showIncorrect(" Need Number"));
      });

      const formSubmit = document.getElementById("form");
      formSubmit.addEventListener("submit", (e) => {
        // e.preventDefault();
        if (
          firstName.length > 0 &&
          lastName.length > 0 &&
          password.length >= 8 &&
          password.match(/[A-Z]/) !== null &&
          password.match(/[a-z]/) !== null &&
          password.match(/[0-9]/) !== null
        ) {
          alert("Password is OK!");
        } else {
          alert("Password is NOT OK!");
        }
      });
    </script>
  </body>
</html>
